/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/quill-resize-image";
exports.ids = ["vendor-chunks/quill-resize-image"];
exports.modules = {

/***/ "(ssr)/./node_modules/quill-resize-image/dist/quill-resize-image.js":
/*!********************************************************************!*\
  !*** ./node_modules/quill-resize-image/dist/quill-resize-image.js ***!
  \********************************************************************/
/***/ (function(module) {

eval("(function (global, factory) {\n     true ? module.exports = factory() :\n    0;\n}(this, (function () { 'use strict';\n\n    function __$styleInject(css) {\n        if (!css) return;\n\n        if (typeof window == 'undefined') return;\n        var style = document.createElement('style');\n        style.setAttribute('media', 'screen');\n\n        style.innerHTML = css;\n        document.head.appendChild(style);\n        return css;\n    }\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\n\n    __$styleInject(\"#editor-resizer {\\n  position: absolute;\\n  border: 1px dashed #fff;\\n  background-color: rgba(0, 0, 0, 0.5);\\n}\\n#editor-resizer .handler {\\n  position: absolute;\\n  right: -5px;\\n  bottom: -5px;\\n  width: 10px;\\n  height: 10px;\\n  border: 1px solid #333;\\n  background-color: rgba(255, 255, 255, 0.8);\\n  cursor: nwse-resize;\\n  user-select: none;\\n}\\n#editor-resizer .toolbar {\\n  position: absolute;\\n  top: -5em;\\n  left: 50%;\\n  padding: 0.5em;\\n  border: 1px solid #fff;\\n  border-radius: 3px;\\n  background-color: #fff;\\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);\\n  transform: translateX(-50%);\\n  width: 20em;\\n}\\n#editor-resizer .toolbar .group {\\n  display: flex;\\n  border: 1px solid #aaa;\\n  border-radius: 6px;\\n  white-space: nowrap;\\n  text-align: center;\\n  line-height: 2;\\n  color: rgba(0, 0, 0, 0.65);\\n}\\n#editor-resizer .toolbar .group:not(:first-child) {\\n  margin-top: 0.5em;\\n}\\n#editor-resizer .toolbar .group .btn {\\n  flex: 1 0 0;\\n  text-align: center;\\n  width: 25%;\\n  padding: 0 0.5rem;\\n  display: inline-block;\\n  vertical-align: top;\\n  user-select: none;\\n  color: inherit;\\n}\\n#editor-resizer .toolbar .group .btn:not(:last-child) {\\n  border-right: 1px solid #bbb;\\n}\\n#editor-resizer .toolbar .group .btn:not(.btn-group):active {\\n  background-color: rgba(0, 0, 0, 0.1);\\n}\\n#editor-resizer .toolbar .group .input-wrapper {\\n  width: 25%;\\n  border: 1px solid #eee;\\n  position: relative;\\n  border-right: 1px solid #bbb;\\n  min-width: 4em;\\n}\\n#editor-resizer .toolbar .group .input-wrapper::after {\\n  content: \\\" \\\";\\n  position: absolute;\\n  height: 1px;\\n  background-color: #333;\\n  left: 0.5em;\\n  right: 1em;\\n  bottom: 0.2em;\\n}\\n#editor-resizer .toolbar .group .input-wrapper input {\\n  color: inherit;\\n  text-align: center;\\n  width: 100%;\\n  border: none;\\n  outline: none;\\n  padding: 0 0.5em;\\n  padding-right: 1.5em;\\n}\\n#editor-resizer .toolbar .group .input-wrapper input:focus ~ .tooltip {\\n  display: block;\\n}\\n#editor-resizer .toolbar .group .input-wrapper .suffix {\\n  position: absolute;\\n  right: 0.5em;\\n}\\n#editor-resizer .toolbar .group .input-wrapper .tooltip {\\n  display: none;\\n  position: absolute;\\n  top: 100%;\\n  left: 0;\\n  font-size: small;\\n  background-color: #fff;\\n  box-shadow: 0 0 3px #a7a7a7;\\n  padding: 0 0.6em;\\n  border-radius: 5px;\\n  zoom: 0.85;\\n}\\n\");\n\n    var I18n = /** @class */ (function () {\n        function I18n(config) {\n            this.config = __assign(__assign({}, defaultLocale), config);\n        }\n        I18n.prototype.findLabel = function (key) {\n            if (this.config) {\n                return Reflect.get(this.config, key);\n            }\n            return null;\n        };\n        return I18n;\n    }());\n    var defaultLocale = {\n        floatLeft: \"left\",\n        floatRight: \"right\",\n        center: \"center\",\n        restore: \"restore\",\n        altTip: \"Press and hold alt to lock ratio!\",\n        inputTip: \"Press enter key to apply change!\",\n    };\n\n    function format(str) {\n        var values = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            values[_i - 1] = arguments[_i];\n        }\n        return str.replace(/\\{(\\d+)\\}/g, function (match, index) {\n            if (values.length > index) {\n                return values[index];\n            }\n            else {\n                return \"\";\n            }\n        });\n    }\n\n    var ResizeElement = /** @class */ (function (_super) {\n        __extends(ResizeElement, _super);\n        function ResizeElement() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.originSize = null;\n            return _this;\n        }\n        return ResizeElement;\n    }(HTMLElement));\n    var template = \"\\n<div class=\\\"handler\\\" title=\\\"{0}\\\"></div>\\n<div class=\\\"toolbar\\\">\\n  <div class=\\\"group\\\">\\n    <a class=\\\"btn\\\" data-type=\\\"width\\\" data-styles=\\\"width:100%\\\">100%</a>\\n    <a class=\\\"btn\\\" data-type=\\\"width\\\" data-styles=\\\"width:50%\\\">50%</a>\\n    <span class=\\\"input-wrapper\\\"><input data-type=\\\"width\\\" maxlength=\\\"3\\\" /><span class=\\\"suffix\\\">%</span><span class=\\\"tooltip\\\">{5}</span></span>\\n    <a class=\\\"btn\\\" data-type=\\\"width\\\" data-styles=\\\"width:auto\\\">{4}</a>\\n  </div>\\n  <div class=\\\"group\\\">\\n    <a class=\\\"btn\\\" data-type=\\\"align\\\" data-styles=\\\"float:left\\\">{1}</a>\\n    <a class=\\\"btn\\\" data-type=\\\"align\\\" data-styles=\\\"display:block;margin:auto;\\\">{2}</a>\\n    <a class=\\\"btn\\\" data-type=\\\"align\\\" data-styles=\\\"float:right;\\\">{3}</a>\\n    <a class=\\\"btn\\\" data-type=\\\"align\\\" data-styles=\\\"\\\">{4}</a>\\n  </div>\\n</div>\\n\";\n    var ResizePlugin = /** @class */ (function () {\n        function ResizePlugin(resizeTarget, container, editor, options) {\n            this.resizer = null;\n            this.startResizePosition = null;\n            this.i18n = new I18n((options === null || options === void 0 ? void 0 : options.locale) || defaultLocale);\n            this.options = options;\n            this.resizeTarget = resizeTarget;\n            if (!resizeTarget.originSize) {\n                resizeTarget.originSize = {\n                    width: resizeTarget.clientWidth,\n                    height: resizeTarget.clientHeight,\n                };\n            }\n            this.editor = editor;\n            this.container = container;\n            this.initResizer();\n            this.positionResizerToTarget(resizeTarget);\n            this.resizing = this.resizing.bind(this);\n            this.endResize = this.endResize.bind(this);\n            this.startResize = this.startResize.bind(this);\n            this.toolbarClick = this.toolbarClick.bind(this);\n            this.toolbarInputChange = this.toolbarInputChange.bind(this);\n            this.onScroll = this.onScroll.bind(this);\n            this.bindEvents();\n        }\n        ResizePlugin.prototype.initResizer = function () {\n            var resizer = this.container.querySelector(\"#editor-resizer\");\n            if (!resizer) {\n                resizer = document.createElement(\"div\");\n                resizer.setAttribute(\"id\", \"editor-resizer\");\n                resizer.innerHTML = format(template, this.i18n.findLabel(\"altTip\"), this.i18n.findLabel(\"floatLeft\"), this.i18n.findLabel(\"center\"), this.i18n.findLabel(\"floatRight\"), this.i18n.findLabel(\"restore\"), this.i18n.findLabel(\"inputTip\"));\n                this.container.appendChild(resizer);\n            }\n            this.resizer = resizer;\n        };\n        ResizePlugin.prototype.positionResizerToTarget = function (el) {\n            if (this.resizer !== null) {\n                this.resizer.style.setProperty(\"left\", el.offsetLeft + \"px\");\n                this.resizer.style.setProperty(\"top\", (el.offsetTop - this.editor.scrollTop) + \"px\");\n                this.resizer.style.setProperty(\"width\", el.clientWidth + \"px\");\n                this.resizer.style.setProperty(\"height\", el.clientHeight + \"px\");\n            }\n        };\n        ResizePlugin.prototype.bindEvents = function () {\n            if (this.resizer !== null) {\n                this.resizer.addEventListener(\"mousedown\", this.startResize);\n                this.resizer.addEventListener(\"click\", this.toolbarClick);\n                this.resizer.addEventListener(\"change\", this.toolbarInputChange);\n            }\n            window.addEventListener(\"mouseup\", this.endResize);\n            window.addEventListener(\"mousemove\", this.resizing);\n            this.editor.addEventListener('scroll', this.onScroll);\n        };\n        ResizePlugin.prototype.onScroll = function () {\n            this.positionResizerToTarget(this.resizeTarget);\n        };\n        ResizePlugin.prototype._setStylesForToolbar = function (type, styles) {\n            var _a;\n            var storeKey = \"_styles_\" + type;\n            var style = this.resizeTarget.style;\n            var originStyles = this.resizeTarget[storeKey];\n            style.cssText =\n                style.cssText.replaceAll(\" \", \"\").replace(originStyles, \"\") +\n                    (\";\" + styles);\n            this.resizeTarget[storeKey] = styles;\n            this.positionResizerToTarget(this.resizeTarget);\n            (_a = this.options) === null || _a === void 0 ? void 0 : _a.onChange(this.resizeTarget);\n        };\n        ResizePlugin.prototype.toolbarInputChange = function (e) {\n            var _a;\n            var target = e.target;\n            var type = (_a = target === null || target === void 0 ? void 0 : target.dataset) === null || _a === void 0 ? void 0 : _a.type;\n            var value = target.value;\n            if (type && Number(value)) {\n                this._setStylesForToolbar(type, \"width: \" + Number(value) + \"%;\");\n            }\n        };\n        ResizePlugin.prototype.toolbarClick = function (e) {\n            var _a, _b;\n            var target = e.target;\n            var type = (_a = target === null || target === void 0 ? void 0 : target.dataset) === null || _a === void 0 ? void 0 : _a.type;\n            if (type && target.classList.contains(\"btn\")) {\n                this._setStylesForToolbar(type, (_b = target === null || target === void 0 ? void 0 : target.dataset) === null || _b === void 0 ? void 0 : _b.styles);\n            }\n        };\n        ResizePlugin.prototype.startResize = function (e) {\n            var target = e.target;\n            if (target.classList.contains(\"handler\") && e.which === 1) {\n                this.startResizePosition = {\n                    left: e.clientX,\n                    top: e.clientY,\n                    width: this.resizeTarget.clientWidth,\n                    height: this.resizeTarget.clientHeight,\n                };\n            }\n        };\n        ResizePlugin.prototype.endResize = function () {\n            var _a;\n            this.startResizePosition = null;\n            (_a = this.options) === null || _a === void 0 ? void 0 : _a.onChange(this.resizeTarget);\n        };\n        ResizePlugin.prototype.resizing = function (e) {\n            if (!this.startResizePosition)\n                return;\n            var deltaX = e.clientX - this.startResizePosition.left;\n            var deltaY = e.clientY - this.startResizePosition.top;\n            var width = this.startResizePosition.width;\n            var height = this.startResizePosition.height;\n            width += deltaX;\n            height += deltaY;\n            if (e.altKey) {\n                var originSize = this.resizeTarget.originSize;\n                var rate = originSize.height / originSize.width;\n                height = rate * width;\n            }\n            this.resizeTarget.style.setProperty(\"width\", Math.max(width, 30) + \"px\");\n            this.resizeTarget.style.setProperty(\"height\", Math.max(height, 30) + \"px\");\n            this.positionResizerToTarget(this.resizeTarget);\n        };\n        ResizePlugin.prototype.destory = function () {\n            this.container.removeChild(this.resizer);\n            window.removeEventListener(\"mouseup\", this.endResize);\n            window.removeEventListener(\"mousemove\", this.resizing);\n            this.editor.removeEventListener('scroll', this.onScroll);\n            this.resizer = null;\n        };\n        return ResizePlugin;\n    }());\n\n    var Iframe = /** @class */ (function () {\n        function Iframe(element, cb) {\n            this.element = element;\n            this.cb = cb;\n            this.hasTracked = false;\n        }\n        return Iframe;\n    }());\n    var IframeClick = /** @class */ (function () {\n        function IframeClick() {\n        }\n        IframeClick.track = function (element, cb) {\n            this.iframes.push(new Iframe(element, cb));\n            if (!this.interval) {\n                this.interval = setInterval(function () {\n                    IframeClick.checkClick();\n                }, this.resolution);\n            }\n        };\n        IframeClick.checkClick = function () {\n            if (document.activeElement) {\n                var activeElement = document.activeElement;\n                for (var i in this.iframes) {\n                    if (activeElement === this.iframes[i].element) {\n                        if (this.iframes[i].hasTracked == false) {\n                            this.iframes[i].cb.apply(window, []);\n                            this.iframes[i].hasTracked = true;\n                        }\n                    }\n                    else {\n                        this.iframes[i].hasTracked = false;\n                    }\n                }\n            }\n        };\n        IframeClick.resolution = 200;\n        IframeClick.iframes = [];\n        IframeClick.interval = null;\n        return IframeClick;\n    }());\n\n    function QuillResizeImage(quill, options) {\n        var container = quill.root;\n        var resizeTarge;\n        var resizePlugin;\n        function triggerTextChange() {\n            var Delta = quill.getContents().constructor;\n            var delta = new Delta().retain(1);\n            quill.updateContents(delta);\n        }\n        container.addEventListener(\"click\", function (e) {\n            var target = e.target;\n            if (e.target && [\"img\", \"video\"].includes(target.tagName.toLowerCase())) {\n                resizeTarge = target;\n                resizePlugin = new ResizePlugin(target, container.parentElement, container, __assign(__assign({}, options), { onChange: triggerTextChange }));\n            }\n        });\n        quill.on(\"text-change\", function (delta, source) {\n            // iframe 大小调整\n            container.querySelectorAll(\"iframe\").forEach(function (item) {\n                IframeClick.track(item, function () {\n                    resizeTarge = item;\n                    resizePlugin = new ResizePlugin(item, container.parentElement, container, __assign(__assign({}, options), { onChange: triggerTextChange }));\n                });\n            });\n        });\n        document.addEventListener(\"mousedown\", function (e) {\n            var _a, _b, _c;\n            var target = e.target;\n            if (target !== resizeTarge &&\n                !((_b = (_a = resizePlugin === null || resizePlugin === void 0 ? void 0 : resizePlugin.resizer) === null || _a === void 0 ? void 0 : _a.contains) === null || _b === void 0 ? void 0 : _b.call(_a, target))) {\n                (_c = resizePlugin === null || resizePlugin === void 0 ? void 0 : resizePlugin.destory) === null || _c === void 0 ? void 0 : _c.call(resizePlugin);\n                resizePlugin = null;\n                resizeTarge = null;\n            }\n        }, { capture: true });\n    }\n\n    return QuillResizeImage;\n\n})));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcXVpbGwtcmVzaXplLWltYWdlL2Rpc3QvcXVpbGwtcmVzaXplLWltYWdlLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsSUFBSSxLQUE0RDtBQUNoRSxJQUFJLENBQzhEO0FBQ2xFLENBQUMsc0JBQXNCOztBQUV2QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsT0FBTztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQ0FBcUMsdUJBQXVCLDRCQUE0Qix5Q0FBeUMsR0FBRyw0QkFBNEIsdUJBQXVCLGdCQUFnQixpQkFBaUIsZ0JBQWdCLGlCQUFpQiwyQkFBMkIsK0NBQStDLHdCQUF3QixzQkFBc0IsR0FBRyw0QkFBNEIsdUJBQXVCLGNBQWMsY0FBYyxtQkFBbUIsMkJBQTJCLHVCQUF1QiwyQkFBMkIsMkNBQTJDLGdDQUFnQyxnQkFBZ0IsR0FBRyxtQ0FBbUMsa0JBQWtCLDJCQUEyQix1QkFBdUIsd0JBQXdCLHVCQUF1QixtQkFBbUIsK0JBQStCLEdBQUcscURBQXFELHNCQUFzQixHQUFHLHdDQUF3QyxnQkFBZ0IsdUJBQXVCLGVBQWUsc0JBQXNCLDBCQUEwQix3QkFBd0Isc0JBQXNCLG1CQUFtQixHQUFHLHlEQUF5RCxpQ0FBaUMsR0FBRywrREFBK0QseUNBQXlDLEdBQUcsa0RBQWtELGVBQWUsMkJBQTJCLHVCQUF1QixpQ0FBaUMsbUJBQW1CLEdBQUcseURBQXlELG1CQUFtQix1QkFBdUIs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dWlsbC1yZXNpemUtaW1hZ2UvZGlzdC9xdWlsbC1yZXNpemUtaW1hZ2UuanM/NTQwMiJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgIChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLlF1aWxsUmVzaXplSW1hZ2UgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBfXyRzdHlsZUluamVjdChjc3MpIHtcbiAgICAgICAgaWYgKCFjc3MpIHJldHVybjtcblxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgICAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgJ3NjcmVlbicpO1xuXG4gICAgICAgIHN0eWxlLmlubmVySFRNTCA9IGNzcztcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgIHJldHVybiBjc3M7XG4gICAgfVxuXG4gICAgLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcbiAgICBQZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxuICAgIHB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcbiAgICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcbiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuICAgIEFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuICAgIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG4gICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuICAgIE9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuICAgIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4gICAgLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfTtcblxuICAgIF9fJHN0eWxlSW5qZWN0KFwiI2VkaXRvci1yZXNpemVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvcmRlcjogMXB4IGRhc2hlZCAjZmZmO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xcbn1cXG4jZWRpdG9yLXJlc2l6ZXIgLmhhbmRsZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IC01cHg7XFxuICBib3R0b206IC01cHg7XFxuICB3aWR0aDogMTBweDtcXG4gIGhlaWdodDogMTBweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMzMzM7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7XFxuICBjdXJzb3I6IG53c2UtcmVzaXplO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxufVxcbiNlZGl0b3ItcmVzaXplciAudG9vbGJhciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IC01ZW07XFxuICBsZWZ0OiA1MCU7XFxuICBwYWRkaW5nOiAwLjVlbTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNmZmY7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm94LXNoYWRvdzogMCAwIDNweCByZ2JhKDAsIDAsIDAsIDAuNSk7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICB3aWR0aDogMjBlbTtcXG59XFxuI2VkaXRvci1yZXNpemVyIC50b29sYmFyIC5ncm91cCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2FhYTtcXG4gIGJvcmRlci1yYWRpdXM6IDZweDtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBsaW5lLWhlaWdodDogMjtcXG4gIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNjUpO1xcbn1cXG4jZWRpdG9yLXJlc2l6ZXIgLnRvb2xiYXIgLmdyb3VwOm5vdCg6Zmlyc3QtY2hpbGQpIHtcXG4gIG1hcmdpbi10b3A6IDAuNWVtO1xcbn1cXG4jZWRpdG9yLXJlc2l6ZXIgLnRvb2xiYXIgLmdyb3VwIC5idG4ge1xcbiAgZmxleDogMSAwIDA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB3aWR0aDogMjUlO1xcbiAgcGFkZGluZzogMCAwLjVyZW07XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICBjb2xvcjogaW5oZXJpdDtcXG59XFxuI2VkaXRvci1yZXNpemVyIC50b29sYmFyIC5ncm91cCAuYnRuOm5vdCg6bGFzdC1jaGlsZCkge1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2JiYjtcXG59XFxuI2VkaXRvci1yZXNpemVyIC50b29sYmFyIC5ncm91cCAuYnRuOm5vdCguYnRuLWdyb3VwKTphY3RpdmUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjEpO1xcbn1cXG4jZWRpdG9yLXJlc2l6ZXIgLnRvb2xiYXIgLmdyb3VwIC5pbnB1dC13cmFwcGVyIHtcXG4gIHdpZHRoOiAyNSU7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZWVlO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2JiYjtcXG4gIG1pbi13aWR0aDogNGVtO1xcbn1cXG4jZWRpdG9yLXJlc2l6ZXIgLnRvb2xiYXIgLmdyb3VwIC5pbnB1dC13cmFwcGVyOjphZnRlciB7XFxuICBjb250ZW50OiBcXFwiIFxcXCI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBoZWlnaHQ6IDFweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XFxuICBsZWZ0OiAwLjVlbTtcXG4gIHJpZ2h0OiAxZW07XFxuICBib3R0b206IDAuMmVtO1xcbn1cXG4jZWRpdG9yLXJlc2l6ZXIgLnRvb2xiYXIgLmdyb3VwIC5pbnB1dC13cmFwcGVyIGlucHV0IHtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBib3JkZXI6IG5vbmU7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgcGFkZGluZzogMCAwLjVlbTtcXG4gIHBhZGRpbmctcmlnaHQ6IDEuNWVtO1xcbn1cXG4jZWRpdG9yLXJlc2l6ZXIgLnRvb2xiYXIgLmdyb3VwIC5pbnB1dC13cmFwcGVyIGlucHV0OmZvY3VzIH4gLnRvb2x0aXAge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbiNlZGl0b3ItcmVzaXplciAudG9vbGJhciAuZ3JvdXAgLmlucHV0LXdyYXBwZXIgLnN1ZmZpeCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICByaWdodDogMC41ZW07XFxufVxcbiNlZGl0b3ItcmVzaXplciAudG9vbGJhciAuZ3JvdXAgLmlucHV0LXdyYXBwZXIgLnRvb2x0aXAge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMTAwJTtcXG4gIGxlZnQ6IDA7XFxuICBmb250LXNpemU6IHNtYWxsO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIGJveC1zaGFkb3c6IDAgMCAzcHggI2E3YTdhNztcXG4gIHBhZGRpbmc6IDAgMC42ZW07XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICB6b29tOiAwLjg1O1xcbn1cXG5cIik7XG5cbiAgICB2YXIgSTE4biA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gSTE4bihjb25maWcpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGRlZmF1bHRMb2NhbGUpLCBjb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIEkxOG4ucHJvdG90eXBlLmZpbmRMYWJlbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0aGlzLmNvbmZpZywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gSTE4bjtcbiAgICB9KCkpO1xuICAgIHZhciBkZWZhdWx0TG9jYWxlID0ge1xuICAgICAgICBmbG9hdExlZnQ6IFwibGVmdFwiLFxuICAgICAgICBmbG9hdFJpZ2h0OiBcInJpZ2h0XCIsXG4gICAgICAgIGNlbnRlcjogXCJjZW50ZXJcIixcbiAgICAgICAgcmVzdG9yZTogXCJyZXN0b3JlXCIsXG4gICAgICAgIGFsdFRpcDogXCJQcmVzcyBhbmQgaG9sZCBhbHQgdG8gbG9jayByYXRpbyFcIixcbiAgICAgICAgaW5wdXRUaXA6IFwiUHJlc3MgZW50ZXIga2V5IHRvIGFwcGx5IGNoYW5nZSFcIixcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZm9ybWF0KHN0cikge1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YWx1ZXNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXHsoXFxkKylcXH0vZywgZnVuY3Rpb24gKG1hdGNoLCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPiBpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXNbaW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBSZXNpemVFbGVtZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoUmVzaXplRWxlbWVudCwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gUmVzaXplRWxlbWVudCgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICAgICAgX3RoaXMub3JpZ2luU2l6ZSA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlc2l6ZUVsZW1lbnQ7XG4gICAgfShIVE1MRWxlbWVudCkpO1xuICAgIHZhciB0ZW1wbGF0ZSA9IFwiXFxuPGRpdiBjbGFzcz1cXFwiaGFuZGxlclxcXCIgdGl0bGU9XFxcInswfVxcXCI+PC9kaXY+XFxuPGRpdiBjbGFzcz1cXFwidG9vbGJhclxcXCI+XFxuICA8ZGl2IGNsYXNzPVxcXCJncm91cFxcXCI+XFxuICAgIDxhIGNsYXNzPVxcXCJidG5cXFwiIGRhdGEtdHlwZT1cXFwid2lkdGhcXFwiIGRhdGEtc3R5bGVzPVxcXCJ3aWR0aDoxMDAlXFxcIj4xMDAlPC9hPlxcbiAgICA8YSBjbGFzcz1cXFwiYnRuXFxcIiBkYXRhLXR5cGU9XFxcIndpZHRoXFxcIiBkYXRhLXN0eWxlcz1cXFwid2lkdGg6NTAlXFxcIj41MCU8L2E+XFxuICAgIDxzcGFuIGNsYXNzPVxcXCJpbnB1dC13cmFwcGVyXFxcIj48aW5wdXQgZGF0YS10eXBlPVxcXCJ3aWR0aFxcXCIgbWF4bGVuZ3RoPVxcXCIzXFxcIiAvPjxzcGFuIGNsYXNzPVxcXCJzdWZmaXhcXFwiPiU8L3NwYW4+PHNwYW4gY2xhc3M9XFxcInRvb2x0aXBcXFwiPns1fTwvc3Bhbj48L3NwYW4+XFxuICAgIDxhIGNsYXNzPVxcXCJidG5cXFwiIGRhdGEtdHlwZT1cXFwid2lkdGhcXFwiIGRhdGEtc3R5bGVzPVxcXCJ3aWR0aDphdXRvXFxcIj57NH08L2E+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcImdyb3VwXFxcIj5cXG4gICAgPGEgY2xhc3M9XFxcImJ0blxcXCIgZGF0YS10eXBlPVxcXCJhbGlnblxcXCIgZGF0YS1zdHlsZXM9XFxcImZsb2F0OmxlZnRcXFwiPnsxfTwvYT5cXG4gICAgPGEgY2xhc3M9XFxcImJ0blxcXCIgZGF0YS10eXBlPVxcXCJhbGlnblxcXCIgZGF0YS1zdHlsZXM9XFxcImRpc3BsYXk6YmxvY2s7bWFyZ2luOmF1dG87XFxcIj57Mn08L2E+XFxuICAgIDxhIGNsYXNzPVxcXCJidG5cXFwiIGRhdGEtdHlwZT1cXFwiYWxpZ25cXFwiIGRhdGEtc3R5bGVzPVxcXCJmbG9hdDpyaWdodDtcXFwiPnszfTwvYT5cXG4gICAgPGEgY2xhc3M9XFxcImJ0blxcXCIgZGF0YS10eXBlPVxcXCJhbGlnblxcXCIgZGF0YS1zdHlsZXM9XFxcIlxcXCI+ezR9PC9hPlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCI7XG4gICAgdmFyIFJlc2l6ZVBsdWdpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gUmVzaXplUGx1Z2luKHJlc2l6ZVRhcmdldCwgY29udGFpbmVyLCBlZGl0b3IsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UmVzaXplUG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5pMThuID0gbmV3IEkxOG4oKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5sb2NhbGUpIHx8IGRlZmF1bHRMb2NhbGUpO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMucmVzaXplVGFyZ2V0ID0gcmVzaXplVGFyZ2V0O1xuICAgICAgICAgICAgaWYgKCFyZXNpemVUYXJnZXQub3JpZ2luU2l6ZSkge1xuICAgICAgICAgICAgICAgIHJlc2l6ZVRhcmdldC5vcmlnaW5TaXplID0ge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogcmVzaXplVGFyZ2V0LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHJlc2l6ZVRhcmdldC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgICAgICB0aGlzLmluaXRSZXNpemVyKCk7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uUmVzaXplclRvVGFyZ2V0KHJlc2l6ZVRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLnJlc2l6aW5nID0gdGhpcy5yZXNpemluZy5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5lbmRSZXNpemUgPSB0aGlzLmVuZFJlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJlc2l6ZSA9IHRoaXMuc3RhcnRSZXNpemUuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudG9vbGJhckNsaWNrID0gdGhpcy50b29sYmFyQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudG9vbGJhcklucHV0Q2hhbmdlID0gdGhpcy50b29sYmFySW5wdXRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMub25TY3JvbGwgPSB0aGlzLm9uU2Nyb2xsLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgICAgICAgfVxuICAgICAgICBSZXNpemVQbHVnaW4ucHJvdG90eXBlLmluaXRSZXNpemVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc2l6ZXIgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiI2VkaXRvci1yZXNpemVyXCIpO1xuICAgICAgICAgICAgaWYgKCFyZXNpemVyKSB7XG4gICAgICAgICAgICAgICAgcmVzaXplciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgcmVzaXplci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImVkaXRvci1yZXNpemVyXCIpO1xuICAgICAgICAgICAgICAgIHJlc2l6ZXIuaW5uZXJIVE1MID0gZm9ybWF0KHRlbXBsYXRlLCB0aGlzLmkxOG4uZmluZExhYmVsKFwiYWx0VGlwXCIpLCB0aGlzLmkxOG4uZmluZExhYmVsKFwiZmxvYXRMZWZ0XCIpLCB0aGlzLmkxOG4uZmluZExhYmVsKFwiY2VudGVyXCIpLCB0aGlzLmkxOG4uZmluZExhYmVsKFwiZmxvYXRSaWdodFwiKSwgdGhpcy5pMThuLmZpbmRMYWJlbChcInJlc3RvcmVcIiksIHRoaXMuaTE4bi5maW5kTGFiZWwoXCJpbnB1dFRpcFwiKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQocmVzaXplcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZXIgPSByZXNpemVyO1xuICAgICAgICB9O1xuICAgICAgICBSZXNpemVQbHVnaW4ucHJvdG90eXBlLnBvc2l0aW9uUmVzaXplclRvVGFyZ2V0ID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXNpemVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemVyLnN0eWxlLnNldFByb3BlcnR5KFwibGVmdFwiLCBlbC5vZmZzZXRMZWZ0ICsgXCJweFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZXIuc3R5bGUuc2V0UHJvcGVydHkoXCJ0b3BcIiwgKGVsLm9mZnNldFRvcCAtIHRoaXMuZWRpdG9yLnNjcm9sbFRvcCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplci5zdHlsZS5zZXRQcm9wZXJ0eShcIndpZHRoXCIsIGVsLmNsaWVudFdpZHRoICsgXCJweFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZXIuc3R5bGUuc2V0UHJvcGVydHkoXCJoZWlnaHRcIiwgZWwuY2xpZW50SGVpZ2h0ICsgXCJweFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUmVzaXplUGx1Z2luLnByb3RvdHlwZS5iaW5kRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVzaXplciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplci5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuc3RhcnRSZXNpemUpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy50b29sYmFyQ2xpY2spO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplci5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHRoaXMudG9vbGJhcklucHV0Q2hhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLmVuZFJlc2l6ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLnJlc2l6aW5nKTtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMub25TY3JvbGwpO1xuICAgICAgICB9O1xuICAgICAgICBSZXNpemVQbHVnaW4ucHJvdG90eXBlLm9uU2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvblJlc2l6ZXJUb1RhcmdldCh0aGlzLnJlc2l6ZVRhcmdldCk7XG4gICAgICAgIH07XG4gICAgICAgIFJlc2l6ZVBsdWdpbi5wcm90b3R5cGUuX3NldFN0eWxlc0ZvclRvb2xiYXIgPSBmdW5jdGlvbiAodHlwZSwgc3R5bGVzKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICB2YXIgc3RvcmVLZXkgPSBcIl9zdHlsZXNfXCIgKyB0eXBlO1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5yZXNpemVUYXJnZXQuc3R5bGU7XG4gICAgICAgICAgICB2YXIgb3JpZ2luU3R5bGVzID0gdGhpcy5yZXNpemVUYXJnZXRbc3RvcmVLZXldO1xuICAgICAgICAgICAgc3R5bGUuY3NzVGV4dCA9XG4gICAgICAgICAgICAgICAgc3R5bGUuY3NzVGV4dC5yZXBsYWNlQWxsKFwiIFwiLCBcIlwiKS5yZXBsYWNlKG9yaWdpblN0eWxlcywgXCJcIikgK1xuICAgICAgICAgICAgICAgICAgICAoXCI7XCIgKyBzdHlsZXMpO1xuICAgICAgICAgICAgdGhpcy5yZXNpemVUYXJnZXRbc3RvcmVLZXldID0gc3R5bGVzO1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvblJlc2l6ZXJUb1RhcmdldCh0aGlzLnJlc2l6ZVRhcmdldCk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vbkNoYW5nZSh0aGlzLnJlc2l6ZVRhcmdldCk7XG4gICAgICAgIH07XG4gICAgICAgIFJlc2l6ZVBsdWdpbi5wcm90b3R5cGUudG9vbGJhcklucHV0Q2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgIHZhciB0eXBlID0gKF9hID0gdGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFyZ2V0LmRhdGFzZXQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50eXBlO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgaWYgKHR5cGUgJiYgTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldFN0eWxlc0ZvclRvb2xiYXIodHlwZSwgXCJ3aWR0aDogXCIgKyBOdW1iZXIodmFsdWUpICsgXCIlO1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUmVzaXplUGx1Z2luLnByb3RvdHlwZS50b29sYmFyQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgIHZhciB0eXBlID0gKF9hID0gdGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFyZ2V0LmRhdGFzZXQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50eXBlO1xuICAgICAgICAgICAgaWYgKHR5cGUgJiYgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImJ0blwiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldFN0eWxlc0ZvclRvb2xiYXIodHlwZSwgKF9iID0gdGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFyZ2V0LmRhdGFzZXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zdHlsZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSZXNpemVQbHVnaW4ucHJvdG90eXBlLnN0YXJ0UmVzaXplID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGFuZGxlclwiKSAmJiBlLndoaWNoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFJlc2l6ZVBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogZS5jbGllbnRZLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5yZXNpemVUYXJnZXQuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5yZXNpemVUYXJnZXQuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJlc2l6ZVBsdWdpbi5wcm90b3R5cGUuZW5kUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJlc2l6ZVBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIChfYSA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uQ2hhbmdlKHRoaXMucmVzaXplVGFyZ2V0KTtcbiAgICAgICAgfTtcbiAgICAgICAgUmVzaXplUGx1Z2luLnByb3RvdHlwZS5yZXNpemluZyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhcnRSZXNpemVQb3NpdGlvbilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB2YXIgZGVsdGFYID0gZS5jbGllbnRYIC0gdGhpcy5zdGFydFJlc2l6ZVBvc2l0aW9uLmxlZnQ7XG4gICAgICAgICAgICB2YXIgZGVsdGFZID0gZS5jbGllbnRZIC0gdGhpcy5zdGFydFJlc2l6ZVBvc2l0aW9uLnRvcDtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuc3RhcnRSZXNpemVQb3NpdGlvbi53aWR0aDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLnN0YXJ0UmVzaXplUG9zaXRpb24uaGVpZ2h0O1xuICAgICAgICAgICAgd2lkdGggKz0gZGVsdGFYO1xuICAgICAgICAgICAgaGVpZ2h0ICs9IGRlbHRhWTtcbiAgICAgICAgICAgIGlmIChlLmFsdEtleSkge1xuICAgICAgICAgICAgICAgIHZhciBvcmlnaW5TaXplID0gdGhpcy5yZXNpemVUYXJnZXQub3JpZ2luU2l6ZTtcbiAgICAgICAgICAgICAgICB2YXIgcmF0ZSA9IG9yaWdpblNpemUuaGVpZ2h0IC8gb3JpZ2luU2l6ZS53aWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSByYXRlICogd2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZVRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eShcIndpZHRoXCIsIE1hdGgubWF4KHdpZHRoLCAzMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgdGhpcy5yZXNpemVUYXJnZXQuc3R5bGUuc2V0UHJvcGVydHkoXCJoZWlnaHRcIiwgTWF0aC5tYXgoaGVpZ2h0LCAzMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvblJlc2l6ZXJUb1RhcmdldCh0aGlzLnJlc2l6ZVRhcmdldCk7XG4gICAgICAgIH07XG4gICAgICAgIFJlc2l6ZVBsdWdpbi5wcm90b3R5cGUuZGVzdG9yeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMucmVzaXplcik7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5lbmRSZXNpemUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5yZXNpemluZyk7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICAgICAgICAgIHRoaXMucmVzaXplciA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSZXNpemVQbHVnaW47XG4gICAgfSgpKTtcblxuICAgIHZhciBJZnJhbWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIElmcmFtZShlbGVtZW50LCBjYikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuY2IgPSBjYjtcbiAgICAgICAgICAgIHRoaXMuaGFzVHJhY2tlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBJZnJhbWU7XG4gICAgfSgpKTtcbiAgICB2YXIgSWZyYW1lQ2xpY2sgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIElmcmFtZUNsaWNrKCkge1xuICAgICAgICB9XG4gICAgICAgIElmcmFtZUNsaWNrLnRyYWNrID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNiKSB7XG4gICAgICAgICAgICB0aGlzLmlmcmFtZXMucHVzaChuZXcgSWZyYW1lKGVsZW1lbnQsIGNiKSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBJZnJhbWVDbGljay5jaGVja0NsaWNrKCk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgSWZyYW1lQ2xpY2suY2hlY2tDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5pZnJhbWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVFbGVtZW50ID09PSB0aGlzLmlmcmFtZXNbaV0uZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaWZyYW1lc1tpXS5oYXNUcmFja2VkID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pZnJhbWVzW2ldLmNiLmFwcGx5KHdpbmRvdywgW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaWZyYW1lc1tpXS5oYXNUcmFja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaWZyYW1lc1tpXS5oYXNUcmFja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIElmcmFtZUNsaWNrLnJlc29sdXRpb24gPSAyMDA7XG4gICAgICAgIElmcmFtZUNsaWNrLmlmcmFtZXMgPSBbXTtcbiAgICAgICAgSWZyYW1lQ2xpY2suaW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICByZXR1cm4gSWZyYW1lQ2xpY2s7XG4gICAgfSgpKTtcblxuICAgIGZ1bmN0aW9uIFF1aWxsUmVzaXplSW1hZ2UocXVpbGwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHF1aWxsLnJvb3Q7XG4gICAgICAgIHZhciByZXNpemVUYXJnZTtcbiAgICAgICAgdmFyIHJlc2l6ZVBsdWdpbjtcbiAgICAgICAgZnVuY3Rpb24gdHJpZ2dlclRleHRDaGFuZ2UoKSB7XG4gICAgICAgICAgICB2YXIgRGVsdGEgPSBxdWlsbC5nZXRDb250ZW50cygpLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgdmFyIGRlbHRhID0gbmV3IERlbHRhKCkucmV0YWluKDEpO1xuICAgICAgICAgICAgcXVpbGwudXBkYXRlQ29udGVudHMoZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldCAmJiBbXCJpbWdcIiwgXCJ2aWRlb1wiXS5pbmNsdWRlcyh0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgIHJlc2l6ZVRhcmdlID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgIHJlc2l6ZVBsdWdpbiA9IG5ldyBSZXNpemVQbHVnaW4odGFyZ2V0LCBjb250YWluZXIucGFyZW50RWxlbWVudCwgY29udGFpbmVyLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHsgb25DaGFuZ2U6IHRyaWdnZXJUZXh0Q2hhbmdlIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHF1aWxsLm9uKFwidGV4dC1jaGFuZ2VcIiwgZnVuY3Rpb24gKGRlbHRhLCBzb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIGlmcmFtZSDlpKflsI/osIPmlbRcbiAgICAgICAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFwiaWZyYW1lXCIpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBJZnJhbWVDbGljay50cmFjayhpdGVtLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZVRhcmdlID0gaXRlbTtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplUGx1Z2luID0gbmV3IFJlc2l6ZVBsdWdpbihpdGVtLCBjb250YWluZXIucGFyZW50RWxlbWVudCwgY29udGFpbmVyLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHsgb25DaGFuZ2U6IHRyaWdnZXJUZXh0Q2hhbmdlIH0pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ICE9PSByZXNpemVUYXJnZSAmJlxuICAgICAgICAgICAgICAgICEoKF9iID0gKF9hID0gcmVzaXplUGx1Z2luID09PSBudWxsIHx8IHJlc2l6ZVBsdWdpbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzaXplUGx1Z2luLnJlc2l6ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb250YWlucykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIHRhcmdldCkpKSB7XG4gICAgICAgICAgICAgICAgKF9jID0gcmVzaXplUGx1Z2luID09PSBudWxsIHx8IHJlc2l6ZVBsdWdpbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzaXplUGx1Z2luLmRlc3RvcnkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKHJlc2l6ZVBsdWdpbik7XG4gICAgICAgICAgICAgICAgcmVzaXplUGx1Z2luID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXNpemVUYXJnZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gUXVpbGxSZXNpemVJbWFnZTtcblxufSkpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/quill-resize-image/dist/quill-resize-image.js\n");

/***/ })

};
;